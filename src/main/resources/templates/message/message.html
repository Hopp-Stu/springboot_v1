<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>- 消息测试</title>
    <meta name="keywords" content="">
    <meta name="description" content="">

    <link rel="shortcut icon" th:href="@{/static/img/favicon.ico}">
    <link th:href="@{/static/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/static/css/font-awesome.css}" rel="stylesheet">
    <link th:href="@{/static/css/plugins/bootstrap-table/bootstrap-table.min.css}" rel="stylesheet">
    <link th:href="@{/static/css/animate.css}" rel="stylesheet">
    <link th:href="@{/static/css/style.css}" rel="stylesheet">
</head>
<body class="gray-bg">
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="ibox float-e-margins">
        <div class="ibox-title">
            <h5>消息测试
            </h5>
            <div class="ibox-tools">
                <a class="collapse-link">
                    <i class="fa fa-chevron-up"></i>
                </a>
                <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                    <i class="fa fa-wrench"></i>
                </a>
                <ul class="dropdown-menu dropdown-user">
                    <li>
                        <a href="#"></a>
                    </li>
                    <li>
                        <a href="#"></a>
                    </li>
                </ul>
                <a class="close-link">
                    <i class="fa fa-times"></i>
                </a>
            </div>
        </div>
        <div class="ibox-content">
            <div class="row">
                <h3>rabbitMQ消息测试</h3>
                <div class="col-sm-12">
                    <textarea id="mq" style="width: 100%;height: 200px"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <button id="send1" class="btn-primary">发送
                    </button>
                </div>
            </div>
            <div class="row">
                <h3>kafka消息测试</h3>
                <div class="col-sm-12">
                    <textarea id="kafka" style="width: 100%;height: 200px"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <button id="send2" class="btn-primary">发送
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 全局js -->
<script th:src="@{/static/js/jquery.min.js}"></script>
<script th:src="@{/static/js/bootstrap.min.js}"></script>
<!-- 自定义js -->
<script th:src="@{/static/js/content.js}"></script>
<!-- 弹窗 -->
<script th:src="@{/static/js/plugins/layer/layer.min.js}" type="text/javascript"></script>
<!-- 遮罩层 -->
<script th:src="@{/static/js/plugins/blockUI/jquery.blockUI.js}" type="text/javascript"></script>

<!-- Bootstrap table -->
<script th:src="@{/static/js/plugins/bootstrap-table/bootstrap-table.min.js}"></script>
<script th:src="@{/static/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js}"></script>
<script th:src="@{/static/system/base.js}"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#send1").click(function () {
            var data = $("#mq").val();
            $.ajax({
                cache: true,
                type: "POST",
                url: "/mq/send",
                data: {"message": data},
                async: false,
                error: function (request) {
                    $.modal.alertError("系统错误");
                },
                success: function (data) {

                }
            });
        });
        $("#send2").click(function () {
            var data = $("#kafka").val();
            $.ajax({
                cache: true,
                type: "POST",
                url: "/kafka/send",
                data: {"message": data},
                async: false,
                error: function (request) {
                    $.modal.alertError("系统错误");
                },
                success: function (data) {

                }
            });
        });
    })
</script>
</body>
</html>